{% extends "base.html" %}

{% block content %}

    {% with messages = get_flashed_messages() %}
        {% if messages %}

        {% for message in messages %}
          <div class="alert alert-primary" role="alert">
              {{ message }}
          </div>
        {% endfor %}
        {% endif %}
        {% endwith %}


<div class= "container">
<h1>{{ product.name }}</h1>
    <div class="row">
        <div class="col-sm-3 mt-2">
            <div class="card-group">
                <img src="{{url_for('static', filename='img/' + product.image_1)}}" alt="{{product.name}}"
                     class="card-img-top" height="300">

                    <form action="{{url_for('AddCart')}}" method="post">
                        <input type="hidden" name="product_id" value="{{product.id}}">
                        <input type="number" name ="quantity" id="" value="1" min="1" max="{{product.availablestock}}">

                        <button type="submit" class="btn btn-sm btn-primary" btn-warning float-right> Add to Cart</button>


                    </form>
            </div>

        </div>
    </div>

</div>

    <form action="" method="post" novalidate>
    <input type="submit" name="Rate Product" value="Rate Product">
</form>
<div>
    <div class="row">
        {% for review in reviews %}
        <div class="col-sm-3 mt-2">
            <div class="card">
                <p class="card-body">
                <p>{{ review.rating }} Stars</p>
                <p> User: {{review.username}}</p>
                <p> Review: {{ review.review }}</p>
                </p>
            </div>
        </div>
        {% endfor %}
    </div>
</div>



{% endblock content %}